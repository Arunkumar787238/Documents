

CREATE PROCEDURE PRCOURSEINSERT
(
    
    @ROWUSERCODE				INT
   ,@FLDCOURSENAME				VARCHAR(MAX)
   ,@FLDDURATIONMONTH			DECIMAL			
                       
)

AS
BEGIN

          declare @FLDCOURSEID bigint
		  select @FLDCOURSEID=max(FLDCOURSEID)+1  from TBLCOURSE

	
      INSERT INTO TBLCOURSE
	  (
	    FLDCOURSEID
	   ,FLDCOURSENAME
	   ,FLDDURATIONMONTH
	   ,FLDCREATEDBY
	   ,FLDCREATEDDATE
	   ,FLDMODIFIEDDATE 
	   ,FLDMODIFIEDBY
	   
	   )
	   OUTPUT 0, @ROWUSERCODE, GETUTCDATE(), OBJECT_NAME(@@PROCID), NULL,INSERTED.* INTO TBLAUDITCOURSE
	   VALUES
	   (
	      @FLDCOURSEID
	     ,@FLDCOURSENAME
		 ,@FLDDURATIONMONTH
		 ,@ROWUSERCODE
		 ,GETUTCDATE()
		 ,GETUTCDATE()
		 ,@ROWUSERCODE
		 
		 )
	  END



	  



	  
	  



	  



	 
	 
	



	